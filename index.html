<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fall</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="video-container">
        <video class="video-bg" loop muted>
            <source src="video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <div class="user-interaction" id="userInteraction">
        <p id="clickMe">Click Me</p>
    </div>

    <div class="profile-box" id="profileBox">
        <img src="" alt="Profile Picture" class="profile-pic">
        <h2 class="username"></h2>
        <p class="status"></p>
        <p class="game"></p>
        <p class="spotify"></p> 
        <div class="nickname">Fall</div>
        <div class="dnd">ðŸ”´</div>
        <div class="bio">18 â¸¸ she aim addicted wrist cutter
            most abused puppygirl of 2023/24</div>
        
        <div class="rpc-details"></div>
        <img src="activdev.png" alt="badge" class="badget">
        <img src="banner.gif" alt="banner" class="banneri">
    </div>

    <script src="stars.js"></script>
    <script src="symboolit.js"></script>
    <script src="https://cdn.tailwindcss.com/3.3.5"></script>
    <script src="update.js"></script>
    <script>
        window.onload = function() {
            const userInteraction = document.getElementById('userInteraction');
            const profileBox = document.getElementById('profileBox');
            const clickMe = document.getElementById('clickMe');
            const videoBg = document.querySelector('.video-bg');
            const audioFiles = ['audio1.mp3', 'audio2.mp3', 'audio3.mp3']; // Add more audio files here
            let audioBg = new Audio();
            let isInsideBox = false;

            userInteraction.addEventListener('click', function() {
                userInteraction.style.display = 'none';
                profileBox.classList.add('show'); 
                profileBox.classList.add('popup'); 
                videoBg.play();
                playRandomAudio();
            });

            clickMe.addEventListener('keydown', function(event) {
                if (event.key === 'Enter') {
                    userInteraction.click();
                }
            });

            document.addEventListener('mousemove', function(event) {
                if (isInsideBox) {
                    const centerX = window.innerWidth / 2;
                    const centerY = window.innerHeight / 2;
                    let yawDegrees = (event.clientX - centerX) / 20; 
                    let pitchDegrees = (event.clientY - centerY) / 20; 

                    yawDegrees = Math.min(Math.max(yawDegrees, -30), 30);
                    pitchDegrees = Math.min(Math.max(pitchDegrees, -30), 30);

                    profileBox.style.transform = `translate(-50%, -50%) scale(1.1) rotateX(${-pitchDegrees}deg) rotateY(${yawDegrees}deg)`;
                }
            });

            profileBox.addEventListener('mouseenter', function() {
                isInsideBox = false;
            });

            profileBox.addEventListener('mouseleave', function() {
                isInsideBox = true;
                profileBox.style.transform = 'translate(-50%, -50%) scale(1.1)'; 
            });

            function playRandomAudio() {
                const randomIndex = Math.floor(Math.random() * audioFiles.length);
                audioBg.src = audioFiles[randomIndex];
                audioBg.play();
                audioBg.addEventListener('ended', playRandomAudio, { once: true }); // Loop to the next random audio
            }

            displayUserInformation(userData.data);

            function displayUserInformation(data) {
                const username = data.discord_user.username;
                const avatar = `https://cdn.discordapp.com/avatars/${data.discord_user.id}/${data.discord_user.avatar}.png`;
                const status = data.discord_status;
                let game = 'Unknown';
                let spotify = '';
                let rpcDetails = '';

                const activity = data.activities.find(activity => activity.type !== 4);
                if (activity) {
                    game = activity.name;
                    if (activity.type === 1 && data.listening_to_spotify) {
                        spotify = 'Listening to Spotify';
                    }
                    rpcDetails += `<p>${activity.details}</p>`;
                    if (activity.assets && activity.assets.large_image) {
                        rpcDetails += `<img src="${activity.assets.large_image}" alt="${activity.name}" class="game-img">`;
                    }
                }

                profileBox.querySelector('.profile-pic').src = avatar;
                profileBox.querySelector('.username').textContent = username;
                profileBox.querySelector('.status').textContent = `Status: ${status}`;
                profileBox.querySelector('.game').textContent = `Game: ${game}`;
                profileBox.querySelector('.spotify').textContent = spotify;
                profileBox.querySelector('.rpc-details').innerHTML = rpcDetails;
            }
        };
    </script>
</body>
</html>
